/*!
 * jquery-toolbar - 1.0.5 (https://github.com/lucduong/jquery-toolbar#readme)
 * Copyright 2016 Luc Duong (luc@e4u.vn)
 * Licensed under the MIT
 */
!function(t,e,o,i){"use strict";var a="toolbar",n={};n.settings={enableLinks:!1,onReady:i,onDropDownSelected:i,onButtonToggled:i,onButtonClick:i,onItemSelected:i},n.options={};var s=function(e,o){return this.$element=t(e),this.elementId=e.id,this.init(o),{options:this.options,init:t.proxy(this.init,this),getState:t.proxy(this.getItemState,this),getSelectedItem:t.proxy(this.getSelectedItem,this),getItemValue:t.proxy(this.getItemValue,this),hideItemById:t.proxy(this.hideItemById,this),hideGroupById:t.proxy(this.hideGroupById,this),hideGroupByItemId:t.proxy(this.hideGroupByItemId,this),toggleButton:t.proxy(this.toggleButton,this)}};s.prototype.init=function(e){this.data=[],this.groups=[],this.childs=[],e.data&&("string"==typeof e.data&&(e.data=t.parseJSON(e.data)),this.data=t.extend(!0,[],e.data),t.each(this.data,t.proxy(function(t,e){var o={id:e.id||t,name:e.name||"group"+t};this.groups.push(o);for(var i=0;i<e.childs.length;i++){var a=e.childs[i];a.groupId=o.id,a=this.initState(a),this.childs[a.id||"child"+(i+1)]=a}},this)),delete e.data),this.options=t.extend({},n.settings,e),this.destroy(),this.render(),this.subscribeEvents()},s.prototype.initState=function(t){if(t)return t.hasOwnProperty("selectable")||(t.selectable=!0),t.state=t.state||{},t.state.hasOwnProperty("checked")||(t.state.checked=!1),t.state.hasOwnProperty("disabled")||(t.state.disabled=!1),t.state.hasOwnProperty("selected")||(t.state.selected=!1),t.state.hasOwnProperty("toggled")||(t.state.toggled=!1),t},s.prototype.render=function(){this.initialized||(this.$element.addClass(a),this.$wrapper=t(this.template.list),this.initialized=!0),this.$element.empty().append(this.$wrapper.empty()),this.$element.ready(t.proxy(function(){t(this).find('[data-toggle="tooltip"]').tooltip()},this.$element)),this.build()},s.prototype.build=function(){t.each(this.data,t.proxy(function(e,o){var i=t(this.template.item);if(o.childs){var a=this,n=t(a.template.list);n.attr("id",o.id),t.each(o.childs,function(e,o){var i=t(a.template.item);i.append(a.buildItem(o)),n.append(i),"groupRadioButton"==o.type&&n.attr("data-toggle","buttons")}),i.append(n),this.$wrapper.append(i)}},this)),setTimeout(t.proxy(function(){this.$element.trigger("onReady",t.extend(!0,{},this.data))},this),100)},s.prototype.buildItem=function(e){var o=this,i=e.type,a=t(this.template.type[i]).attr("id",e.id||"").attr("name",e.name||"").addClass("item").attr("style",e.inlineStyle||"").addClass(e.styleName||"");switch(e.state.disabled&&a.addClass("disabled"),i){case"combo":var n="dropDown"+(e.id||""),s=t(this.template.type.dropDownUL),r=t(this.template.type.dropDownButton).attr("id",n);a=t(this.template.type.dropDown).attr("id",e.id||"").attr("name",e.name||"").addClass("item").append(r).append(s),e.options&&e.options.length>0&&(r.prepend(t(o.template.type.text).text(e.options[e.selectedIndex||0].text).attr("class","dropdown-btn-text")),t.each(e.options,function(i,a){var n=t(o.template.type.dropDownItem);n.data("value",a.value),i==e.selectedIndex&&n.addClass("selected"),n.children("a").append(a.text),s.append(n)}));break;case"text":break;case"inputText":a.val(e.value);break;case"button":case"toggleButton":e.useIcon?a.append(t(o.template.icon).attr("class",e.useIcon)):e.useImage?a.append(t(o.template.image).attr("src",e.useImage).attr("style",e.imageStyle||"")):a.append(e.text),e.state.toggled&&a.addClass("active").attr("aria-pressed",!0);break;case"checkbox":break;case"groupRadioButton":a=t(this.template.label).addClass(e.styleName||"btn btn-default btn-sm");var d=t(this.template.type.radio).attr("id",e.id).attr("name",e.name).attr("value",e.value);e.state.toggled=e.state.selected,(e.state.selected||e.state.checked)&&(a.addClass("active"),d.attr("checked",!0)),a.append(d),e.useIcon?a.append(t(o.template.icon).attr("class",e.useIcon)):e.useImage?a.append(t(o.template.image).attr("src",e.useImage).attr("style",e.imageStyle||"")):e.text&&a.append(e.text);break;case"radio":var l=t(this.template.type.radio).attr("id",e.id||"").attr("name",e.name||"radioName").attr("value",e.value||"");(e.state.selected||e.state.checked)&&l.attr("checked",!0);var p=t(this.template.label).attr("for",e.id||"");a=t(this.template.radioWrapper).attr("id",e.id||"").addClass("item").append(l).append(p),e.useIcon?p.append(t(o.template.icon).attr("class",e.useIcon)):e.useHtml?p.append(t(e.useHtml)):p.append(e.text);break;case"datePicker":}return e.tooltip&&a.attr("data-toggle","tooltip").attr("data-placement",e.tooltip.placement||"top").attr("title",e.tooltip.text),a},s.prototype.template={list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',icon:'<i class="fa fa-dashboard"></i>',image:'<img class="img" />',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>',option:"<option></option>",radioWrapper:'<div class="radio-custom radio-primary"></div>',label:"<label></label>",type:{combo:'<select class="form-control"></select>',dropDown:'<div class="dropdown"></div>',dropDownButton:'<button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><span class="caret"></span></button>',dropDownUL:'<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">',dropDownItem:'<li><a href="#"></a></li>',text:'<span class="text-center"></span>',inputText:'<input type="text" class="form-control" />',button:'<button type="button"></button>',toggleButton:'<button type="button" data-toggle="button"></button>',checkbox:'<input type="checkbox" />',radio:'<input type="radio" />',datePicker:""}},s.prototype.destroy=function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)},s.prototype.unsubscribeEvents=function(){this.$element.off("click"),t(".item ul.dropdown-menu li").off("click")},s.prototype.subscribeEvents=function(){this.unsubscribeEvents(),this.$element.on("click",t.proxy(this.clickHandler,this)),t(".item ul.dropdown-menu li").on("click",t.proxy(this.onDropDownClick,this)),"function"==typeof this.options.onReady&&this.$element.on("onReady",this.options.onReady),"function"==typeof this.options.onDropDownSelected&&this.$element.on("onDropDownSelected",this.options.onDropDownSelected),"function"==typeof this.options.onButtonToggled&&this.$element.on("onButtonToggled",this.options.onButtonToggled),"function"==typeof this.options.onItemSelected&&this.$element.on("onItemSelected",this.options.onItemSelected),"function"==typeof this.options.onButtonClick&&this.$element.on("onButtonClick",this.options.onButtonClick)},s.prototype.findItem=function(t){var e=t,o=e.prop("tagName");if("LABEL"===o||"IMG"===o){switch(o){case"LABEL":e=e.children("input");break;case"IMG":case"I":e=e.prev("input");break;default:e=e.prev("input")}var i=e.attr("id");if(!i)return;var a=this.childs[i];if(a)return a}var i=e.closest(".item").attr("id");if(i){var a=this.childs[i];return a||console.log("Error: item does not exist"),a}},s.prototype.findItemById=function(t){if(t){var e=this.childs[t];return e}},s.prototype.toggleButton=function(e,o){var i=this.childs[e];i?(this.childs[e].state.toggled=o,o?t("#"+e).addClass("active").attr("aria-pressed",!0):t("#"+e).removeClass("active").attr("aria-pressed",!1)):console.log("Error: item does not exist")},s.prototype.hideItemById=function(e,o){o===i&&(o=!0),o?t("#"+e).closest("li.list-group-item").hide():t("#"+e).closest("li.list-group-item").show()},s.prototype.hideGroupById=function(e,o){o===i&&(o=!0),o?t("#"+e).closest("li.list-group-item").hide():t("#"+e).closest("li.list-group-item").show()},s.prototype.hideGroupByItemId=function(e,o){o===i&&(o=!0);var a=t("#"+e).closest("ul.list-group");o?a.hide():a.show()},s.prototype.removeItem=function(e){for(var o=0;o<this.childs.length;o++)if(this.childs[o].id===e){this.splice(o,1),t("#"+this.childs[o].id).remove();break}},s.prototype.clickHandler=function(e){var o=t(e.target),i=this.findItem(o);if(i&&!i.state.disabled)switch("radio"!=i.type&&"checkbox"!=i.type&&(this.options.enableLinks||e.preventDefault()),i.type){case"toggleButton":i.state.toggled=!i.state.toggled,this.$element.trigger("onButtonToggled",t.extend(!0,{},i));break;case"groupRadioButton":var a=this.getSelectedItem(i.name);a.state.toggled=a.state.selected=!1,i.state.selected=!i.state.selected,i.state.toggled=!i.state.toggled,this.$element.trigger("onButtonToggled",t.extend(!0,{},i)),this.$element.trigger("onItemSelected",t.extend(!0,{},i)),t('input[name="'+i.name+'"]').removeAttr("checked"),t("#"+i.id).attr("checked",!0);break;case"radio":case"checkbox":i.state.selected=!i.state.selected,this.$element.trigger("onItemSelected",t.extend(!0,{},i));break;case"button":this.$element.trigger("onButtonClick",t.extend(!0,{},i))}},s.prototype.onDropDownClick=function(e){t(".dropdown-menu li.selected").removeClass("selected"),t(e.currentTarget).addClass("selected");var o=t(e.currentTarget).parent(),i=t(e.currentTarget).children("a").text();o.prev().children(".dropdown-btn-text").html(i);for(var a=this.findItem(t(e.currentTarget)),n=0;n<a.options.length;n++)if(a.options[n].text==i){a.selectedIndex=n,a.selectedItem=a.options[a.selectedIndex];break}this.$element.trigger("onDropDownSelected",t.extend(!0,{},a))},s.prototype.getItemState=function(t){var e=this.findItemById(t);return e.state},s.prototype.getSelectedItem=function(e){var o=this.findItemById(e);if(!o){var a=t("input[name='"+e+"'][checked='checked']");o=this.findItemById(a.attr("id"))}return"combo"==o.type?o.options[o.selectedIndex]:"groupRadioButton"==o.type?o:(console.log("Error: Cannot get selectedItem of item which has type: ["+o.type+"]"),i)},s.prototype.getItemValue=function(e){var o=this.findItemById(e);return"inputText"==o.type?t("#"+o.id).val():""};var r=function(t){e.console&&e.console.error(t)};t.fn[a]=function(e,o){var i;return this.each(function(){var n=t.data(this,a);"string"==typeof e?n?t.isFunction(n[e])&&"_"!==e.charAt(0)?(o instanceof Array||(o=[o]),i=n[e].apply(n,o)):r("No such method : "+e):r("Not initialized, can not call method : "+e):"boolean"==typeof e?i=n:t.data(this,a,new s(this,t.extend(!0,{},e)))}),i||this}}(jQuery,window,document);